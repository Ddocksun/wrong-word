<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>레드벨벳 - 세가지 소원</title>

    <style>
        @font-face {
          font-family: 'HMFBRG'; /* 폰트 이름 */
          src: url('HMFBRG.woff') format('woff'); /* WOFF 파일 경로 */
        }
        @font-face {
          font-family: 'HMFMRG'; /* 폰트 이름 */
          src: url('HMFMRG.woff') format('woff'); /* WOFF 파일 경로 */
        }
        @font-face {
        font-family: 'Pretendard-Regular';
        src: url('https://fastly.jsdelivr.net/gh/Project-Noonnu/noonfonts_2107@1.1/Pretendard-Regular.woff') format('woff');
        font-weight: 400;
        font-style: normal;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            overflow: hidden;
        }

        html{user-select:none}

        /* 전체 페이지 레이아웃을 Flexbox로 설정 */
        body {
            font-family: HMFBRG;
            text-align: left;
            padding: 20px;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;  /* 위쪽으로 배치 */
            align-items: center;  /* 수평 중앙 정렬 */
            height: 100vh;  /* 화면 높이 */
            background-image: url('paper_texture_11.png'); 
            background-size: cover; 
            background-position: center; 
            background-repeat: no-repeat;
            cursor: url('oth845.cur'), auto;
        }

        .rounded-rectangle {
          width: 100px; /* 가로 길이 */
          height: 50px; /* 세로 길이 */
          background-color: white; /* 배경색 */
          border: 2px solid black;
          border-radius: 50px; /* 둥근 모서리 (반지름 크기) */
          z-index: 1;
          font-size: 1.7rem;
          text-align: center;
          line-height: 45px;
          font-family: 'Pretendard-Regular';
          margin-top: 100px;
          position: absolute;
          left: 250px;
        }
        #Stitle{
            font-size: 1.5rem;
            text-align: center;
            font-family: 'Pretendard-Regular';
            z-index: 1;
            position: absolute;
            top:35px;
        }
        #Ltitle{
            font-size: 5rem;
            text-align: center;
            font-family: Pretendard-Regular;
            z-index: 1;
            margin-bottom: 0;
            margin-top: 0;
            position: absolute;
            top:100px;
            letter-spacing: -2px;
            font-weight: 700;
        }
        #singer{
            font-size: 1rem;
            text-align: center;
            font-family: Pretendard-Regular;
            z-index: 1;
            margin-bottom: 0;
            margin-top: 0;
            position: absolute;
            top:205px;
        }
        .rectangle-container {
            display: flex; /* 두 네모를 수평으로 배치 */
            position: relative;
            margin-top: 110px;
            left: 550px;
        }
        .rectangle1 {
            width: 80px; /* 가로 길이 */
            height: 50px; /* 세로 길이 */
            background-color: white; /* 배경색 */
            border: 2px solid black; /* 검은색 테두리 */
            margin-right: -2px;
            font-size: 1.5rem;
          text-align: center;
          line-height: 45px;
        }
        .rectangle2 {
            width: 150px; /* 가로 길이 */
            height: 50px; /* 세로 길이 */
            background-color: white; /* 배경색 */
            border: 2px solid black; /* 검은색 테두리 */
            font-size: 1.5rem;
          text-align: center;
          line-height: 45px;
          display: flex; /* 텍스트를 수평 중앙에 배치 */
            justify-content: center;
            align-items: center;
        }
        .Q1 {
            width: 52%; /* 부모의 80% 크기로 설정 */
            margin-top: 80px;
            width: 800px;
            height: 420px;
            background-color: rgba(255, 255, 255, 0.5);
            border: 2px solid black;
            padding: 15px;
            padding-left: 150px;
            padding-top: 50px;
            font-size: 1.5rem;
            line-height: 1.7;
        }
        .Q2 {
            width: 52%; /* 부모의 80% 크기로 설정 */
            margin-top: 80px;
            width: 800px;
            height: 420px;
            background-color: rgba(255, 255, 255, 0.5);
            border: 2px solid black;
            padding: 15px;
            padding-left: 150px;
            padding-top: 50px;
            font-size: 1.5rem;
            line-height: 1.7;
            display: none;
        }
        .Q3 {
            width: 52%; /* 부모의 80% 크기로 설정 */
            margin-top: 80px;
            width: 800px;
            height: 420px;
            background-color: rgba(255, 255, 255, 0.5);
            border: 2px solid black;
            padding: 15px;
            padding-left: 150px;
            padding-top: 50px;
            font-size: 1.5rem;
            line-height: 1.7;
            display: none;
        }
        .Q4 {
            width: 52%; /* 부모의 80% 크기로 설정 */
            margin-top: 80px;
            width: 800px;
            height: 420px;
            background-color: rgba(255, 255, 255, 0.5);
            border: 2px solid black;
            padding: 15px;
            padding-left: 150px;
            padding-top: 50px;
            font-size: 1.5rem;
            line-height: 1.7;
            display: none;
        }
        .A {
            width: 52%; /* 부모의 80% 크기로 설정 */
            margin-top: 80px;
            width: 800px;
            height: 420px;
            background-color: rgba(255, 255, 255, 0.5);
            border: 2px solid black;
            padding: 50px;
            padding-top: 30px;
            font-size: 1.5rem;
            line-height: 1.6;
            display: none;
            overflow-y: auto;
        }
        .clickable {
            color: black;
            cursor: url('oth845.cur'), auto;
            position: relative; /* 단어 위에 가위표를 정확히 위치시킬 수 있도록 함 */
            display: inline-block;
            top:12px;
            line-height: 1.2;
            top: 5px;
        }

        /* 가위표 스타일 */
        .checkmark {
            position: absolute;
            top: -12px;   /* 단어 위에 가위표를 겹쳐서 표시할 수 있게 위치 조정 */
            left: 70%;  /* 단어의 오른쪽 끝에 가위표가 위치하도록 설정 */
            font-size: 40px;
            color: green;
            transform: translateX(-30px);  /* 위치를 약간 오른쪽으로 조정 */
        }
        #score {
            width: 120px; /* 가로 길이 */
            height: 35px; /* 세로 길이 */
            font-size: 1.5rem;
            text-align: center;
            line-height: 45px;
            display: flex; /* 텍스트를 수평 중앙에 배치 */
            justify-content: center;
            align-items: center;
            z-index: 3;
            color: black;
            background-color: rgba(255, 255, 255, 0.5); /* 배경색 추가 */
            border: 2px solid black; /* 테두리 추가 */
            margin-top: 20px;
        }
        #ans {
            width: 150px; /* 가로 길이 */
            height: 35px; /* 세로 길이 */
            background-color: dimgray; /* 배경색 */
            font-size: 1.2rem;
            text-align: center;
            line-height: 35px; /* 텍스트 수직 중앙 정렬 */
            display: flex; /* 텍스트를 수평 중앙에 배치 */
            justify-content: center;
            align-items: center;
            z-index: 4;
            color: white;
            margin-top: 20px;
        }

        #ans:hover {
            background-color: gray !important;
        }
        .ansback {
            display: flex; /* 플렉스 박스를 사용하여 중앙 정렬 */
            justify-content: center; /* 수평 중앙 정렬 */
            align-items: center; /* 수직 중앙 정렬 */
            flex-direction: column; /* 자식 요소를 세로로 배치 */
            display: none;
        }
        #video-container {
            width: 150px;
            height: 80px;
            margin-top: 30px;
        }
        #video-wrapper {
            display: block; /* 유튜브 비디오가 처음부터 보이도록 */
            width: 150px;
            height: 80px;
            margin-top: 30px;
        }

    </style>
</head>
<body>
    <div class="rounded-rectangle">제3번</div>
    <div id="Stitle">2024년 틀리기쉬운맞춤법알아가기평가 문제지</div>
    <div id="Ltitle">세 가지 소원</div>
    <div id="singer">레드벨벳&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;2015.12.18 발매</div>
    <div class="rectangle-container">
        <div class="rectangle1">성명</div>
        <div class="rectangle2"><span id="name"></span></div></div>
    <div class="Q1">

            1. 다음 중 틀린 어휘를 클릭해 주세요.
            <br><br>
            <p>
            <span class="clickable" data-text="세가지">〈세가지</span> 소원〉<br><br>
차가운 <span class="clickable" data-text="유리 창">유리 창</span> 너머 반짝인 불빛<br>
시린 거리는 첫눈을 기다려<br>
조금씩 또 조금씩<br>
번져가는 기쁨 속에</p>
    </div>
    
    <div class="Q2">
            2. 다음 중 틀린 어휘를 클릭해 주세요.
            <br><br>
            <p>
            울던 아이도 잠이 드는 밤<br>
얼어붙은 저 나뭇가지 위로<br>
한 송이 또 한 송이<br>
<span class="clickable" data-text="내려 앉는">내려 앉는</span> 눈 꽃송이</p>
    </div>
    <div class="Q3">

            3. 다음 중 틀린 어휘를 클릭해 주세요.
            <br><br>
            <p>
            산타를 만나기 위해 줄을 선 아이<br>
반짝이는 눈빛 해맑은 미소<br>
어리던 <span class="clickable" data-text="그 날">그 날</span>엔<br>
나도 그땐 그랬었지
</p>
    </div>
    <div class="Q4">

            4. 다음 중 틀린 어휘를 클릭해 주세요.
            <br><br>
            <p>
            천사가 내려와<br>
내게 <span class="clickable" data-text="입맞춘">입맞춘</span> 것 같아<br>
눈꽃이 피어나요 Yeah
</p>
    </div>
    <div class="A">
        1. 관형사와 의존 명사<br><br>
        '세'는 수 관형사, '가지'는 의존 명사이므로 <br>띄어 써야 합니다. <br>'여러 가지'와 같은 표현도 마찬가지로 띄어쓰기에 주의해야 합니다.<br><br>

        2. 유리창<br><br>
        표준국어대사전[국립국어원]에 따라 합성어로 보고 <br>붙여 씁니다.<br><br>

        3. 내려앉는<br><br>
        표준국어대사전[국립국어원]에 따라 합성어로 보고 <br>붙여 씁니다.<br><br>

        4. 그날<br><br>
        '바로 앞에서 이야기한 날'을 뜻하는 '이날'과 '그날'은 합성어로 봅니다. <br>표준국어대사전의 뜻풀이만 본다면 '우리가 처음 만난 이 날'이나 '너를 만날 그 날'처럼 앞에서 언급하지 않은 날이면 띄어 쓰는 것이 옳다고 판단되지만, 국립국어원에서는 '이 날'과 '그 날'로 띄어쓰기가 필요한 예를 상정하기 힘들고 띄어쓰기에 혼선이 있어 '이날'과 '그날'은 무조건 붙여 쓰는 것으로 통일했다고 합니다.<br><br>

        5. 입맞춤, 입 맞춘<br><br>
        '입맞춤하다'는 합성어지만, '입 맞추다'는 합성어가 아니므로 띄어 써야 합니다.
    </div>
    <div id="score">0 / 2</div>
    <div class="ansback">
        <div id="ans">▶ 해설 보기</div></div>
    <div id="video-wrapper">
            <div id="video-container">
                <iframe width="100%" height="100%" src="https://www.youtube.com/embed/nTYYYor2Zfw?si=dtcl6D48n5BvCNld&amp;start=21&autoplay=1" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
            </div>
        </div>

        <script type="text/javascript">
        const urlParams = new URLSearchParams(window.location.search);
        const name = urlParams.get('name');
        if (name) {
            document.getElementById('name').textContent = name;
        } else {
            document.getElementById('name').textContent = "이름을 찾을 수 없습니다.";
        }
        window.onload = function() {
            var player = document.getElementById('youtube-player');
        }

        // 문제마다 최대 점수를 저장할 변수
let maxScore = 2; // Q1에서 Q2로 넘어가기 전에 최대 점수 (예시)
let currentScore = 0; // 현재 점수

document.querySelectorAll('.clickable').forEach(item => {
    item.addEventListener('click', function() {
        // 이미 가위표가 있다면 추가하지 않음
        if (!this.querySelector('.checkmark')) {
            // 가위표 추가
            const checkmark = document.createElement('span');
            checkmark.classList.add('checkmark');
            checkmark.textContent = '✔';
            this.appendChild(checkmark);

            // 점수 업데이트
            updateScore();
        }
    });
});

// 점수 업데이트 함수
function updateScore() {
    // 체크 마크가 추가된 요소의 수를 구합니다.
    const checkmarks = document.querySelectorAll('.checkmark');
    currentScore = checkmarks.length;

    // score 표시 업데이트
    document.getElementById('score').textContent = `${currentScore} / ${maxScore}`;

    // Q1에서 Q2로 넘어가는 조건
    if (currentScore === maxScore) {
        setTimeout(() => {
            document.querySelector('.Q1').style.display = 'none';  // Q1 숨기기
            document.querySelector('.Q2').style.display = 'block'; // Q2 나타내기

            // Q2에서 스코어 초기화
            resetScoreForQ2();
        }, 500); // 0.5초 후에 Q1을 숨기고 Q2를 보여줌
    }

    // Q2에서 체크 마크를 추가했을 때
    if (currentScore === 3) {
        // 1개 체크 마크를 클릭했을 때, 점수는 1로 제한
        maxScore = 1; // Q2는 1개의 체크 마크만 클릭 가능
        document.getElementById('score').textContent = `1 / ${maxScore}`;
    }
}

// Q2 시작 시 점수 초기화
function resetScoreForQ2() {
    // Q2에서 점수를 0으로 초기화
    const checkmarks = document.querySelectorAll('.checkmark');
    checkmarks.forEach(checkmark => checkmark.remove()); // 이전 체크 마크 제거

    // Q2에서 점수 리셋
    currentScore = 0;
    maxScore = 1; // Q2에서 최대 점수는 1

    // Q2에서의 점수 업데이트
    document.getElementById('score').textContent = `${currentScore} / ${maxScore}`;
}

// Q2에서 모든 <span> 요소가 클릭되었는지 확인
function checkAllQ2Clicked() {
    const allSpans = document.querySelectorAll('.Q2 .clickable');
    const clickedSpans = document.querySelectorAll('.Q2 .checkmark');
    
    if (allSpans.length === clickedSpans.length) {
        // 모든 <span> 요소가 클릭되었을 때 0.5초 뒤에 Q3를 나타내도록 설정
        setTimeout(() => {
            document.querySelector('.Q2').style.display = 'none'; // Q2 숨기기
            document.querySelector('.Q3').style.display = 'block'; // Q3 나타내기
        }, 500); // 0.5초 후에 Q3를 나타냄
    }
}

// Q2에서 span 클릭 시 checkAllQ2Clicked 함수 호출
document.querySelectorAll('.Q2 .clickable').forEach(item => {
    item.addEventListener('click', checkAllQ2Clicked);
});

function checkAllQ3Clicked() {
    const allSpans = document.querySelectorAll('.Q3 .clickable');
    const clickedSpans = document.querySelectorAll('.Q3 .checkmark');
    
    // 모든 <span> 요소가 클릭된 경우
    if (allSpans.length === clickedSpans.length) {
        // 0.5초 뒤에 Q3을 숨기고 Q4를 표시
        setTimeout(() => {
            // Q3 숨기기
            document.querySelector('.Q3').style.display = 'none';  // Q3 숨기기
            document.querySelector('.Q2').style.display = 'none';
            // Q4 표시
            document.querySelector('.Q4').style.display = 'block';  // Q4 표시
            
            console.log("Q3 클릭 완료. Q3는 숨겨지고 Q4가 나타납니다.");
        }, 500); // 0.5초 뒤에 실행
    }
}

// Q3에서 span 클릭 시 checkAllQ3Clicked 함수 호출
document.querySelectorAll('.Q3 .clickable').forEach(item => {
    item.addEventListener('click', function() {
        // 이미 체크마크가 추가된 경우 추가하지 않음
        if (!this.querySelector('.checkmark')) {
            const checkmark = document.createElement('span');
            checkmark.classList.add('checkmark');
            checkmark.textContent = '✔';
            this.appendChild(checkmark);
        }
        checkAllQ3Clicked(); // 클릭 후 Q3 상태를 확인
    });
});

// Q3에서 Q4로 전환될 때 Q2 숨기기
function checkAllQ4Clicked() {
    const allSpans = document.querySelectorAll('.Q4 .clickable');
    const clickedSpans = document.querySelectorAll('.Q4 .checkmark');
    
    // 모든 <span> 요소가 클릭된 경우
    if (allSpans.length === clickedSpans.length) {
        // 0.5초 뒤에 Q3만 표시하고 Q4는 숨기기
        setTimeout(() => {
            // Q3 숨기기 (Q3는 더 이상 나타나지 않음)
            document.querySelector('.Q3').style.display = 'none';  // Q3 숨기기
            // Q2 숨기기 (Q2는 이제 숨겨짐)
            document.querySelector('.Q2').style.display = 'none';  // Q2 숨기기
            // ansback 버튼을 표시
            document.getElementById('score').style.display = 'none';
            document.querySelector('.ansback').style.display = 'block';  // ansback 버튼 나타내기

            console.log("Q4 클릭 완료. Q3는 숨겨지고 Q4만 보입니다.");
        }, 500); // 0.5초 후에 Q3를 숨기고 ansback 버튼을 표시
    }
}

// Q4에서 span 클릭 시 checkAllQ4Clicked 함수 호출
document.querySelectorAll('.Q4 .clickable').forEach(item => {
    item.addEventListener('click', function() {
        // 이미 체크마크가 추가된 경우 추가하지 않음
        if (!this.querySelector('.checkmark')) {
            const checkmark = document.createElement('span');
            checkmark.classList.add('checkmark');
            checkmark.textContent = '✔';
            this.appendChild(checkmark);
        }
        checkAllQ4Clicked(); // 체크된 후 Q4 상태를 확인
    });
});

document.getElementById('ans').addEventListener('click', function() {
    document.querySelector('.Q4').style.display = 'none';
    document.querySelector('#score').style.display = 'none';
    
    // Q3에서 A로 바뀌는 화면을 설정
    document.querySelector('.A').style.display = 'block';
    
    // Q2 화면이 다시 나타나지 않도록 보장
    document.querySelector('.Q3').style.display = 'none';
    
    // 스코어가 정해져 있는 경우 점수 업데이트를 여기서 처리
    updateScore();
});

// 상태 변수를 추가하여 클릭 횟수를 추적
let isTextChanged = false;

document.getElementById('ans').addEventListener('click', function() {
    if (!isTextChanged) {
        // 첫 번째 클릭: 텍스트 변경
        document.getElementById('ans').textContent = '▶ 다음 노래';
        isTextChanged = true;  // 상태 변수 갱신
    } else {
        const name = new URLSearchParams(window.location.search).get('name'); // 이름값 가져오기
        window.location.href = `문제 4.html?name=${name}`;  // 문제3 페이지로 이동
    }
});
        </script>
</body>
</html>